(()=>{var e={545:function(e){e.exports=function(){"use strict";var e={d:function(t,s){for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return j}});var s={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},i={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:s.days,minView:s.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof e?t.querySelector(e):e}function a(){let{tagName:e="div",className:t="",innerHtml:s="",id:i="",attrs:n={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=document.createElement(e);return t&&a.classList.add(...t.split(" ")),i&&(a.id=i),s&&(a.innerHTML=s),n&&l(a,n),a}function l(e,t){for(let[s,i]of Object.entries(t))void 0!==i&&e.setAttribute(s,i);return e}function o(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function r(e){let t=e.getHours(),{hours:s,dayPeriod:i}=c(t);return{year:e.getFullYear(),month:e.getMonth(),fullMonth:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,date:e.getDate(),fullDate:e.getDate()<10?"0"+e.getDate():e.getDate(),day:e.getDay(),hours:t,fullHours:d(t),hours12:s,dayPeriod:i,fullHours12:d(s),minutes:e.getMinutes(),fullMinutes:e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()}}function c(e){return{dayPeriod:e>11?"pm":"am",hours:e%12==0?12:e%12}}function d(e){return e<10?"0"+e:e}function h(e){let t=10*Math.floor(e.getFullYear()/10);return[t,t+9]}function u(){let e=[];for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return s.forEach((t=>{if("object"==typeof t)for(let s in t)t[s]&&e.push(s);else t&&e.push(t)})),e.join(" ")}function p(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.days;if(!e||!t)return!1;let n=r(e),a=r(t);return{[s.days]:n.date===a.date&&n.month===a.month&&n.year===a.year,[s.months]:n.month===a.month&&n.year===a.year,[s.years]:n.year===a.year}[i]}function m(e,t,s){let i=f(e,!1).getTime(),n=f(t,!1).getTime();return s?i>=n:i>n}function v(e,t){return!m(e,t,!0)}function f(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=new Date(e.getTime());return"boolean"!=typeof t||t||g(s),s}function g(e){return e.setHours(0,0,0,0),e}function y(e,t,s){e.length?e.forEach((e=>{e.addEventListener(t,s)})):e.addEventListener(t,s)}function _(e,t){return!(!e||e===document||e instanceof DocumentFragment)&&(e.matches(t)?e:_(e.parentNode,t))}function b(e,t,s){return e>s?s:e<t?t:e}function S(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];return s.filter((e=>e)).forEach((t=>{for(let[s,i]of Object.entries(t))if(void 0!==i&&"[object Object]"===i.toString()){let t=void 0!==e[s]?e[s].toString():void 0,n=i.toString(),a=Array.isArray(i)?[]:{};e[s]=e[s]?t!==n?a:e[s]:a,S(e[s],i)}else e[s]=i})),e}function w(e){let t=e;return e instanceof Date||(t=new Date(e)),isNaN(t.getTime())&&(console.log(`Unable to convert value "${e}" to Date object`),t=!1),t}function D(e){let t="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+t+")("+e+")($|<|"+t+")","g")}function C(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class E{constructor(){let{type:e,date:t,dp:s,opts:i,body:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};C(this,"focus",(()=>{this.$cell.classList.add("-focus-"),this.focused=!0})),C(this,"removeFocus",(()=>{this.$cell.classList.remove("-focus-"),this.focused=!1})),C(this,"select",(()=>{this.$cell.classList.add("-selected-"),this.selected=!0})),C(this,"removeSelect",(()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1})),C(this,"onChangeSelectedDate",(()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())})),C(this,"onChangeFocusDate",(e=>{if(!e)return void(this.focused&&this.removeFocus());let t=p(e,this.date,this.type);t?this.focus():!t&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()})),C(this,"render",(()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell))),this.type=e,this.singleType=this.type.slice(0,-1),this.date=t,this.dp=s,this.opts=i,this.body=n,this.customData=!1,this.init()}init(){let{range:e,onRenderCell:t}=this.opts;t&&(this.customData=t({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),e&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(s.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(s.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(s.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(s.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var e;let{year:t,month:s,date:i}=r(this.date),n=(null===(e=this.customData)||void 0===e?void 0:e.attrs)||{};this.$cell=a({className:this._getClassName(),attrs:{"data-year":t,"data-month":s,"data-date":i,...n}})}_getClassName(){var e,t;let i=new Date,{selectOtherMonths:n,selectOtherYears:a}=this.opts,{minDate:l,maxDate:o}=this.dp,{day:c}=r(this.date),d=this._isOutOfMinMaxRange(),h=null===(e=this.customData)||void 0===e?void 0:e.disabled,m=u("air-datepicker-cell",`-${this.singleType}-`,{"-current-":p(i,this.date,this.type),"-min-date-":l&&p(l,this.date,this.type),"-max-date-":o&&p(o,this.date,this.type)}),v="";switch(this.type){case s.days:v=u({"-weekend-":this.dp.isWeekend(c),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!n||d||h});break;case s.months:v=u({"-disabled-":d||h});break;case s.years:v=u({"-other-decade-":this.isOtherDecade,"-disabled-":d||this.isOtherDecade&&!a||h})}return u(m,v,null===(t=this.customData)||void 0===t?void 0:t.classes)}_getHtml(){var e;let{year:t,month:i,date:n}=r(this.date),{showOtherMonths:a,showOtherYears:l}=this.opts;if(null!==(e=this.customData)&&void 0!==e&&e.html)return this.customData.html;switch(this.type){case s.days:return!a&&this.isOtherMonth?"":n;case s.months:return this.dp.locale[this.opts.monthsField][i];case s.years:return!l&&this.isOtherDecade?"":t}}_isOutOfMinMaxRange(){let{minDate:e,maxDate:t}=this.dp,{type:i,date:n}=this,{month:a,year:l,date:o}=r(n),c=i===s.days,d=i===s.years,h=!!e&&new Date(l,d?e.getMonth():a,c?o:e.getDate()),u=!!t&&new Date(l,d?t.getMonth():a,c?o:t.getDate());return e&&t?v(h,e)||m(u,t):e?v(h,e):t?m(u,t):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:e,rangeDateTo:t}=this.dp,s=u({"-in-range-":e&&t&&(i=this.date,n=e,a=t,m(i,n)&&v(i,a)),"-range-from-":e&&p(this.date,e,this.type),"-range-to-":t&&p(this.date,t,this.type)});var i,n,a;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),s&&this.$cell.classList.add(...s.split(" "))}_handleSelectedStatus(){let e=this.dp._checkIfDateIsSelected(this.date,this.type);e?this.select():!e&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){p(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function L(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let k={[s.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${s.days}-"></div>`,[s.months]:`<div class="air-datepicker-body--cells -${s.months}-"></div>`,[s.years]:`<div class="air-datepicker-body--cells -${s.years}-"></div>`};const $=".air-datepicker-cell";class A{constructor(e){let{dp:t,type:i,opts:n}=e;L(this,"handleClick",(e=>{let t=e.target.closest($).adpCell;if(t.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let s=this.dp._checkIfDateIsSelected(t.date,t.type);s?this.dp._handleAlreadySelectedDates(s,t.date):this.dp.selectDate(t.date)})),L(this,"handleDayNameClick",(e=>{let t=e.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(t),datepicker:this.dp})})),L(this,"onChangeCurrentView",(e=>{e!==this.type?this.hide():(this.show(),this.render())})),L(this,"onMouseOverCell",(e=>{let t=_(e.target,$);this.dp.setFocusDate(!!t&&t.adpCell.date)})),L(this,"onMouseOutCell",(()=>{this.dp.setFocusDate(!1)})),L(this,"onClickBody",(e=>{let{onClickDayName:t}=this.opts,s=e.target;s.closest($)&&this.handleClick(e),t&&s.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(e)})),L(this,"onMouseDown",(e=>{this.pressed=!0;let t=_(e.target,$),s=t&&t.adpCell;p(s.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),p(s.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)})),L(this,"onMouseMove",(e=>{if(!this.pressed||!this.dp.isMinViewReached)return;e.preventDefault();let t=_(e.target,$),s=t&&t.adpCell,{selectedDates:i,rangeDateTo:n,rangeDateFrom:a}=this.dp;if(!s||s.isDisabled)return;let{date:l}=s;if(2===i.length){if(this.rangeFromFocused&&!m(l,n)){let{hours:e,minutes:t}=r(a);l.setHours(e),l.setMinutes(t),this.dp.rangeDateFrom=l,this.dp.replaceDate(a,l)}if(this.rangeToFocused&&!v(l,a)){let{hours:e,minutes:t}=r(n);l.setHours(e),l.setMinutes(t),this.dp.rangeDateTo=l,this.dp.replaceDate(n,l)}}})),L(this,"onMouseUp",(()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1})),L(this,"onChangeViewDate",((e,t)=>{if(!this.isVisible)return;let i=h(e),n=h(t);switch(this.dp.currentView){case s.days:if(p(e,t,s.months))return;break;case s.months:if(p(e,t,s.years))return;break;case s.years:if(i[0]===n[0]&&i[1]===n[1])return}this.render()})),L(this,"render",(()=>{this.destroyCells(),this._generateCells(),this.cells.forEach((e=>{this.$cells.appendChild(e.render())}))})),this.dp=t,this.type=i,this.opts=n,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===s.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:e,dynamicRange:t}=this.opts;y(this.$el,"mouseover",this.onMouseOverCell),y(this.$el,"mouseout",this.onMouseOutCell),y(this.$el,"click",this.onClickBody),e&&t&&(y(this.$el,"mousedown",this.onMouseDown),y(this.$el,"mousemove",this.onMouseMove),y(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(s.eventChangeViewDate,this.onChangeViewDate),this.dp.on(s.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=a({className:`air-datepicker-body -${this.type}-`,innerHtml:k[this.type]}),this.$names=n(".air-datepicker-body--day-names",this.$el),this.$cells=n(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dp.locale.firstDay,t="",i=this.dp.isWeekend,{onClickDayName:n}=this.opts,a=e,l=0;for(;l<7;){let e=a%7;t+=`<div class="${u("air-datepicker-body--day-name",{[s.cssClassWeekend]:i(e),"-clickable-":!!n})}" data-day-index='${e}'>${this.dp.locale.daysMin[e]}</div>`,l++,a++}return t}_getDaysCells(){let{viewDate:e,locale:{firstDay:t}}=this.dp,s=o(e),{year:i,month:n}=r(e),a=new Date(i,n,1),l=new Date(i,n,s),c=a.getDay()-t,d=6-l.getDay()+t;c=c<0?c+7:c,d=d>6?d-7:d;let h=function(e,t){let{year:s,month:i,date:n}=r(e);return new Date(s,i,n-t)}(a,c),u=s+c+d,p=h.getDate(),{year:m,month:v}=r(h),f=0;for(;f<u;){let e=new Date(m,v,p+f);this._generateCell(e),f++}}_generateCell(e){let{type:t,dp:s,opts:i}=this,n=new E({type:t,dp:s,opts:i,date:e,body:this});return this.cells.push(n),n}_generateDayCells(){this._getDaysCells()}_generateMonthCells(){let{year:e}=this.dp.parsedViewDate,t=0;for(;t<12;)this.cells.push(this._generateCell(new Date(e,t))),t++}_generateYearCells(){let e=h(this.dp.viewDate),t=e[0]-1,s=e[1]+1,i=t;for(;i<=s;)this.cells.push(this._generateCell(new Date(i,0))),i++}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCells(){switch(this.type){case s.days:this._generateDayCells();break;case s.months:this._generateMonthCells();break;case s.years:this._generateYearCells()}}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach((e=>e.destroy())),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(s.eventChangeViewDate,this.onChangeViewDate),this.dp.off(s.eventChangeCurrentView,this.onChangeCurrentView)}}function M(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class T{constructor(e){let{dp:t,opts:s}=e;M(this,"onClickNav",(e=>{let t=_(e.target,".air-datepicker-nav--action");if(!t)return;let s=t.dataset.action;this.dp[s]()})),M(this,"onChangeViewDate",(()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()})),M(this,"onChangeCurrentView",(()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()})),M(this,"onClickNavTitle",(()=>{this.dp.isFinalView||this.dp.up()})),M(this,"update",(()=>{let{prevHtml:e,nextHtml:t}=this.opts;this.$prev.innerHTML=e,this.$next.innerHTML=t,this._resetNavStatus(),this.render(),this.handleNavStatus()})),M(this,"renderDelay",(()=>{setTimeout(this.render)})),M(this,"render",(()=>{this.$title.innerHTML=this._getTitle(),function(e,t){for(let s in t)t[s]?e.classList.add(s):e.classList.remove(s)}(this.$title,{"-disabled-":this.dp.isFinalView})})),this.dp=t,this.opts=s,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=n(".air-datepicker-nav--title",this.$el),this.$prev=n('[data-action="prev"]',this.$el),this.$next=n('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(s.eventChangeViewDate,this.onChangeViewDate),this.dp.on(s.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(s.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(s.eventChangeTime,this.render))}destroy(){this.dp.off(s.eventChangeViewDate,this.onChangeViewDate),this.dp.off(s.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(s.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(s.eventChangeTime,this.render))}_createElement(){this.$el=a({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:e,opts:t}=this,s=t.navTitles[e.currentView];return"function"==typeof s?s(e):e.formatDate(e.viewDate,s)}handleNavStatus(){let{disableNavWhenOutOfRange:e}=this.opts,{minDate:t,maxDate:i}=this.dp;if(!t&&!i||!e)return;let{year:n,month:a}=this.dp.parsedViewDate,l=!!t&&r(t),o=!!i&&r(i);switch(this.dp.currentView){case s.days:t&&l.month>=a&&l.year>=n&&this._disableNav("prev"),i&&o.month<=a&&o.year<=n&&this._disableNav("next");break;case s.months:t&&l.year>=n&&this._disableNav("prev"),i&&o.year<=n&&this._disableNav("next");break;case s.years:{let e=h(this.dp.viewDate);t&&l.year>=e[0]&&this._disableNav("prev"),i&&o.year<=e[1]&&this._disableNav("next");break}}}_disableNav(e){n('[data-action="'+e+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){!function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];e.length?e.forEach((e=>{e.classList.remove(...s)})):e.classList.remove(...s)}(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:e,nextHtml:t}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action air-datepicker-nav--action-prev" data-action="prev">${e}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action air-datepicker-nav--action-next" data-action="next">${t}</div>`}get isNavIsFunction(){let{navTitles:e}=this.opts;return Object.keys(e).find((t=>"function"==typeof e[t]))}}var q={today:{content:e=>e.locale.today,onClick:e=>e.setViewDate(new Date)},clear:{content:e=>e.locale.clear,onClick:e=>e.clear()}};class O{constructor(e){let{dp:t,opts:s}=e;this.dp=t,this.opts=s,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=a({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:e}=this.opts;Array.isArray(e)||(e=[e]),e.forEach((e=>{let t=e;"string"==typeof e&&q[e]&&(t=q[e]);let s=this.createButton(t);t.onClick&&this.attachEventToButton(s,t.onClick),this.$el.appendChild(s)}))}attachEventToButton(e,t){e.addEventListener("click",(()=>{t(this.dp)}))}createButton(e){let{content:t,className:s,tagName:i="button",attrs:n={}}=e;return a({tagName:i,innerHtml:`<span tabindex='-1'>${"function"==typeof t?t(this.dp):t}</span>`,className:u("air-datepicker-button",s),attrs:n})}render(){this.generateButtons()}}function x(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class H{constructor(){let{opts:e,dp:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};x(this,"toggleTimepickerIsActive",(e=>{this.dp.timepickerIsActive=e})),x(this,"onChangeSelectedDate",(e=>{let{date:t,updateTime:s=!1}=e;t&&(this.setMinMaxTime(t),this.setCurrentTime(!!s&&t),this.addTimeToDate(t))})),x(this,"onChangeLastSelectedDate",(e=>{e&&(this.setTime(e),this.render())})),x(this,"onChangeInputRange",(e=>{let t=e.target;this[t.getAttribute("name")]=t.value,this.updateText(),this.dp.trigger(s.eventChangeTime,{hours:this.hours,minutes:this.minutes})})),x(this,"onMouseEnterLeave",(e=>{let t=e.target.getAttribute("name"),s=this.$minutesText;"hours"===t&&(s=this.$hoursText),s.classList.toggle("-focus-")})),x(this,"onFocus",(()=>{this.toggleTimepickerIsActive(!0)})),x(this,"onBlur",(()=>{this.toggleTimepickerIsActive(!1)})),this.opts=e,this.dp=t;let{timeFormat:i}=this.dp.locale;i&&(i.match(D("h"))||i.match(D("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(s.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(s.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let e="input";navigator.userAgent.match(/trident/gi)&&(e="change"),y(this.$ranges,e,this.onChangeInputRange),y(this.$ranges,"mouseenter",this.onMouseEnterLeave),y(this.$ranges,"mouseleave",this.onMouseEnterLeave),y(this.$ranges,"focus",this.onFocus),y(this.$ranges,"mousedown",this.onFocus),y(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=a({className:u("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(s.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(s.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:e,hours:t,displayHours:s,minutes:i,minHours:n,minMinutes:a,maxHours:l,maxMinutes:o,dayPeriod:r,opts:{hoursStep:c,minutesStep:h}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${d(s)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${d(i)}</span>   `+(e?`<span class='air-datepicker-time--current-ampm'>${r}</span>`:"")+'</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">'+`      <input type="range" name="hours" value="${t}" min="${n}" max="${l}" step="${c}"/>   </div>   <div class="air-datepicker-time--row">`+`      <input type="range" name="minutes" value="${i}" min="${a}" max="${o}" step="${h}"/>   </div></div>`}defineDOM(){let e=e=>n(e,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=e('[name="hours"]'),this.$minutes=e('[name="minutes"]'),this.$hoursText=e(".air-datepicker-time--current-hours"),this.$minutesText=e(".air-datepicker-time--current-minutes"),this.$ampm=e(".air-datepicker-time--current-ampm")}setTime(e){this.setMinMaxTime(e),this.setCurrentTime(e)}addTimeToDate(e){e&&(e.setHours(this.hours),e.setMinutes(this.minutes))}setMinMaxTime(e){if(this.setMinMaxTimeFromOptions(),e){let{minDate:t,maxDate:s}=this.dp;t&&p(e,t)&&this.setMinTimeFromMinDate(t),s&&p(e,s)&&this.setMaxTimeFromMaxDate(s)}}setCurrentTime(e){let{hours:t,minutes:s}=e?r(e):this;this.hours=b(t,this.minHours,this.maxHours),this.minutes=b(s,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:e,minMinutes:t,maxHours:s,maxMinutes:i}=this.opts;this.minHours=b(e,0,23),this.minMinutes=b(t,0,59),this.maxHours=b(s,0,23),this.maxMinutes=b(i,0,59)}setMinTimeFromMinDate(e){let{lastSelectedDate:t}=this.dp;this.minHours=e.getHours(),t&&t.getHours()>e.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=e.getMinutes()}setMaxTimeFromMaxDate(e){let{lastSelectedDate:t}=this.dp;this.maxHours=e.getHours(),t&&t.getHours()<e.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=e.getMinutes()}updateSliders(){l(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,l(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=d(this.displayHours),this.$minutesText.innerHTML=d(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(e){this._hours=e;let{hours:t,dayPeriod:s}=c(e);this.displayHours=this.ampm?t:e,this.dayPeriod=s}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function F(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class I{constructor(e){let{dp:t,opts:s}=e;F(this,"pressedKeys",new Set),F(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],e=>e.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],e=>e.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],e=>e.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],e=>e.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],e=>e.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],e=>e.year-=10],[["Control","Shift","ArrowUp"],(e,t)=>t.up()]])),F(this,"handleHotKey",(e=>{let t=this.hotKeys.get(e),s=r(this.getInitialFocusDate());t(s,this.dp);let{year:i,month:n,date:a}=s,l=o(new Date(i,n));l<a&&(a=l);let c=this.dp.getClampedDate(new Date(i,n,a));this.dp.setFocusDate(c,{viewDateTransition:!0})})),F(this,"isHotKeyPressed",(()=>{let e=!1,t=this.pressedKeys.size,s=e=>this.pressedKeys.has(e);for(let[i]of this.hotKeys){if(e)break;if(Array.isArray(i[0]))i.forEach((n=>{e||t!==n.length||(e=n.every(s)&&i)}));else{if(t!==i.length)continue;e=i.every(s)&&i}}return e})),F(this,"isArrow",(e=>e>=37&&e<=40)),F(this,"onKeyDown",(e=>{let{key:t,which:s}=e,{dp:i,dp:{focusDate:n},opts:a}=this;this.registerKey(t);let l=this.isHotKeyPressed();if(l)return e.preventDefault(),void this.handleHotKey(l);if(this.isArrow(s))return e.preventDefault(),void this.focusNextCell(t);if("Enter"===t){if(i.currentView!==a.minView)return void i.down();if(n){let e=i._checkIfDateIsSelected(n);return void(e?i._handleAlreadySelectedDates(e,n):i.selectDate(n))}}"Escape"===t&&this.dp.hide()})),F(this,"onKeyUp",(e=>{this.removeKey(e.key)})),this.dp=t,this.opts=s,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:e}=this.dp;e.addEventListener("keydown",this.onKeyDown),e.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:e}=this.dp;e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:e,currentView:t,selectedDates:i,parsedViewDate:{year:n,month:a}}=this.dp,l=e||i[i.length-1];if(!l)switch(t){case s.days:l=new Date(n,a,(new Date).getDate());break;case s.months:l=new Date(n,a,1);break;case s.years:l=new Date(n,0,1)}return l}focusNextCell(e){let t=this.getInitialFocusDate(),{currentView:i}=this.dp,{days:n,months:a,years:l}=s,o=r(t),c=o.year,d=o.month,h=o.date;switch(e){case"ArrowLeft":i===n&&(h-=1),i===a&&(d-=1),i===l&&(c-=1);break;case"ArrowUp":i===n&&(h-=7),i===a&&(d-=3),i===l&&(c-=4);break;case"ArrowRight":i===n&&(h+=1),i===a&&(d+=1),i===l&&(c+=1);break;case"ArrowDown":i===n&&(h+=7),i===a&&(d+=3),i===l&&(c+=4)}let u=this.dp.getClampedDate(new Date(c,d,h));this.dp.setFocusDate(u,{viewDateTransition:!0})}registerKey(e){this.pressedKeys.add(e)}removeKey(e){this.pressedKeys.delete(e)}}let V={on(e,t){this.__events||(this.__events={}),this.__events[e]?this.__events[e].push(t):this.__events[e]=[t]},off(e,t){this.__events&&this.__events[e]&&(this.__events[e]=this.__events[e].filter((e=>e!==t)))},removeAllEvents(){this.__events={}},trigger(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];this.__events&&this.__events[e]&&this.__events[e].forEach((e=>{e(...s)}))}};function N(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let P="",B="",R=!1;class j{static buildGlobalContainer(e){R=!0,P=a({className:e,id:e}),n("body").appendChild(P)}constructor(e,t){var l=this;if(N(this,"viewIndexes",[s.days,s.months,s.years]),N(this,"next",(()=>{let{year:e,month:t}=this.parsedViewDate;switch(this.currentView){case s.days:this.setViewDate(new Date(e,t+1,1));break;case s.months:this.setViewDate(new Date(e+1,t,1));break;case s.years:this.setViewDate(new Date(e+10,0,1))}})),N(this,"prev",(()=>{let{year:e,month:t}=this.parsedViewDate;switch(this.currentView){case s.days:this.setViewDate(new Date(e,t-1,1));break;case s.months:this.setViewDate(new Date(e-1,t,1));break;case s.years:this.setViewDate(new Date(e-10,0,1))}})),N(this,"_finishHide",(()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)})),N(this,"setPosition",(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"==typeof(e=e||l.opts.position))return void(l.customHide=e({$datepicker:l.$datepicker,$target:l.$el,$pointer:l.$pointer,isViewChange:t,done:l._finishHide}));let s,i,{isMobile:n}=l.opts,a=l.$el.getBoundingClientRect(),o=l.$el.getBoundingClientRect(),r=l.$datepicker.offsetParent,c=l.$el.offsetParent,d=l.$datepicker.getBoundingClientRect(),h=e.split(" "),u=window.scrollY,p=window.scrollX,m=l.opts.offset,v=h[0],f=h[1];if(n)l.$datepicker.style.cssText="left: 50%; top: 50%";else{if(r===c&&r!==document.body&&(o={top:l.$el.offsetTop,left:l.$el.offsetLeft,width:a.width,height:l.$el.offsetHeight},u=0,p=0),r!==c&&r!==document.body){let e=r.getBoundingClientRect();o={top:a.top-e.top,left:a.left-e.left,width:a.width,height:a.height},u=0,p=0}switch(v){case"top":s=o.top-d.height-m;break;case"right":i=o.left+o.width+m;break;case"bottom":s=o.top+o.height+m;break;case"left":i=o.left-d.width-m}switch(f){case"top":s=o.top;break;case"right":i=o.left+o.width-d.width;break;case"bottom":s=o.top+o.height-d.height;break;case"left":i=o.left;break;case"center":/left|right/.test(v)?s=o.top+o.height/2-d.height/2:i=o.left+o.width/2-d.width/2}l.$datepicker.style.cssText=`left: ${i+p}px; top: ${s+u}px`}})),N(this,"_setInputValue",(()=>{let{opts:e,$altField:t,locale:{dateFormat:s}}=this,{altFieldDateFormat:i,altField:n}=e;n&&t&&(t.value=this._getInputValue(i)),this.$el.value=this._getInputValue(s)})),N(this,"_getInputValue",(e=>{let{selectedDates:t,opts:s}=this,{multipleDates:i,multipleDatesSeparator:n}=s;if(!t.length)return"";let a="function"==typeof e,l=a?e(i?t:t[0]):t.map((t=>this.formatDate(t,e)));return l=a?l:l.join(n),l})),N(this,"_checkIfDateIsSelected",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.days,i=!1;return l.selectedDates.some((s=>{let n=p(e,s,t);return i=n&&s,n})),i})),N(this,"_scheduleCallAfterTransition",(e=>{this._cancelScheduledCall(),e&&e(!1),this._onTransitionEnd=()=>{e&&e(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})})),N(this,"_cancelScheduledCall",(()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)})),N(this,"setViewDate",(e=>{if(!((e=w(e))instanceof Date))return;if(p(e,this.viewDate))return;let t=this.viewDate;this.viewDate=e;let{onChangeViewDate:i}=this.opts;if(i){let{month:e,year:t}=this.parsedViewDate;i({month:e,year:t,decade:this.curDecade})}this.trigger(s.eventChangeViewDate,e,t)})),N(this,"setFocusDate",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!e||(e=w(e))instanceof Date)&&(l.focusDate=e,l.opts.range&&e&&l._handleRangeOnFocus(),l.trigger(s.eventChangeFocusDate,e,t))})),N(this,"setCurrentView",(e=>{if(this.viewIndexes.includes(e)){if(this.currentView=e,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(s.eventChangeCurrentView,e),!this.views[e]){let t=this.views[e]=new A({dp:this,opts:this.opts,type:e});this.shouldUpdateDOM&&this.$content.appendChild(t.$el)}this.opts.onChangeView&&this.opts.onChangeView(e)}})),N(this,"_updateLastSelectedDate",(e=>{this.lastSelectedDate=e,this.trigger(s.eventChangeLastSelectedDate,e)})),N(this,"destroy",(()=>{let{showEvent:e,isMobile:t}=this.opts,s=this.$datepicker.parentNode;s&&s.removeChild(this.$datepicker),this.$el.removeEventListener(e,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),t&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null})),N(this,"update",(e=>{let t=S({},this.opts);S(this.opts,e);let{timepicker:i,buttons:n,range:a,selectedDates:l,isMobile:o}=this.opts,r=this.visible||this.treatAsInline;this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this._handleLocale(),!t.selectedDates&&l&&this.selectDate(l),e.view&&this.setCurrentView(e.view),this._setInputValue(),t.range&&!a?(this.rangeDateTo=!1,this.rangeDateFrom=!1):!t.range&&a&&this.selectedDates.length&&(this.rangeDateFrom=this.selectedDates[0],this.rangeDateTo=this.selectedDates[1]),t.timepicker&&!i?(r&&this.timepicker.destroy(),this.timepicker=!1,this.$timepicker.parentNode.removeChild(this.$timepicker)):!t.timepicker&&i&&this._addTimepicker(),!t.buttons&&n?this._addButtons():t.buttons&&!n?(this.buttons.destroy(),this.$buttons.parentNode.removeChild(this.$buttons)):r&&t.buttons&&n&&this.buttons.clearHtml().render(),!t.isMobile&&o?(this.treatAsInline||B||this._createMobileOverlay(),this._addMobileAttributes(),this.visible&&this._showMobileOverlay()):t.isMobile&&!o&&(this._removeMobileAttributes(),this.visible&&(B.classList.remove("-active-"),"function"!=typeof this.opts.position&&this.setPosition())),r&&(this.nav.update(),this.views[this.currentView].render(),this.currentView===s.days&&this.views[this.currentView].renderDayNames())})),N(this,"isOtherMonth",(e=>{let{month:t}=r(e);return t!==this.parsedViewDate.month})),N(this,"isOtherYear",(e=>{let{year:t}=r(e);return t!==this.parsedViewDate.year})),N(this,"isOtherDecade",(e=>{let{year:t}=r(e),[s,i]=h(this.viewDate);return t<s||t>i})),N(this,"_onChangeSelectedDate",(e=>{let{silent:t}=e;setTimeout((()=>{this._setInputValue(),this.opts.onSelect&&!t&&this._triggerOnSelect()}))})),N(this,"_onChangeFocusedDate",(function(e){let{viewDateTransition:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;let s=!1;t&&(s=l.isOtherMonth(e)||l.isOtherYear(e)||l.isOtherDecade(e)),s&&l.setViewDate(e)})),N(this,"_onChangeTime",(e=>{let{hours:t,minutes:s}=e,i=new Date,{lastSelectedDate:n,opts:{onSelect:a}}=this,l=n;n||(l=i);let o=this.getCell(l,this.currentViewSingular),r=o&&o.adpCell;r&&r.isDisabled||(l.setHours(t),l.setMinutes(s),n?(this._setInputValue(),a&&this._triggerOnSelect()):this.selectDate(l))})),N(this,"_onFocus",(e=>{this.visible||this.show()})),N(this,"_onBlur",(e=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()})),N(this,"_onMouseDown",(e=>{this.inFocus=!0})),N(this,"_onMouseUp",(e=>{this.inFocus=!1,this.$el.focus()})),N(this,"_onResize",(()=>{this.visible&&"function"!=typeof this.opts.position&&this.setPosition()})),N(this,"_onClickOverlay",(()=>{this.visible&&this.hide()})),N(this,"isWeekend",(e=>this.opts.weekends.includes(e))),N(this,"getClampedDate",(e=>{let{minDate:t,maxDate:s}=this,i=e;return s&&m(e,s)?i=s:t&&v(e,t)&&(i=t),i})),this.$el=n(e),!this.$el)return;this.$datepicker=a({className:"air-datepicker"}),this.opts=S({},i,t),this.$customContainer=!!this.opts.container&&n(this.opts.container),this.$altField=n(this.opts.altField||!1);let{view:o,startDate:c}=this.opts;c||(this.opts.startDate=new Date),"INPUT"===this.$el.nodeName&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=w(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=o,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:e,treatAsInline:t,opts:{inline:s,isMobile:i,selectedDates:a,keyboardNav:l,onlyTimepicker:o}}=this,r=n("body");(!R||R&&P&&!r.contains(P))&&!s&&this.elIsInput&&!this.$customContainer&&j.buildGlobalContainer(j.defaultGlobalContainerId),!i||B||t||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(s||this._bindEvents(),l&&!o&&(this.keyboardNav=new I({dp:this,opts:e}))),a&&this.selectDate(a,{silent:!0}),this.opts.visible&&!t&&this.show(),i&&!t&&this.$el.setAttribute("readonly",!0),t&&this._createComponents()}_createMobileOverlay(){B=a({className:"air-datepicker-overlay"}),P.appendChild(B)}_createComponents(){let{opts:e,treatAsInline:t,opts:{inline:s,buttons:i,timepicker:n,position:a,classes:l,onlyTimepicker:o,isMobile:r}}=this;this._buildBaseHtml(),this.elIsInput&&(s||this._setPositionClasses(a)),!s&&this.elIsInput||this.$datepicker.classList.add("-inline-"),l&&this.$datepicker.classList.add(...l.split(" ")),o&&this.$datepicker.classList.add("-only-timepicker-"),r&&!t&&this._addMobileAttributes(),this.views[this.currentView]=new A({dp:this,type:this.currentView,opts:e}),this.nav=new T({dp:this,opts:e}),n&&this._addTimepicker(),i&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let e in this.views)this.views[e].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){B.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){B.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||""===this.initialReadonly||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:e,maxDate:t}=this.opts;this.minDate=!!e&&w(e),this.maxDate=!!t&&w(t)}_addTimepicker(){this.$timepicker=a({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new H({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=a({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new O({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(s.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(s.eventChangeFocusDate,this._onChangeFocusedDate),this.on(s.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:e}=this.opts;var t,s;this.elIsInput?e?(t=this.$datepicker,(s=this.$el).parentNode.insertBefore(t,s.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=n(".air-datepicker--content",this.$datepicker),this.$pointer=n(".air-datepicker--pointer",this.$datepicker),this.$nav=n(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:e,dateFormat:t,firstDay:s,timepicker:i,onlyTimepicker:n,timeFormat:a,dateTimeSeparator:l}=this.opts;var o;this.locale=(o=e,JSON.parse(JSON.stringify(o))),t&&(this.locale.dateFormat=t),void 0!==a&&""!==a&&(this.locale.timeFormat=a);let{timeFormat:r}=this.locale;if(""!==s&&(this.locale.firstDay=s),i&&"function"!=typeof t){let e=r?l:"";this.locale.dateFormat=[this.locale.dateFormat,r||""].join(e)}n&&"function"!=typeof t&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(e){if("function"==typeof e)return void this.$datepicker.classList.add("-custom-position-");let t=(e=e.split(" "))[0],s=`air-datepicker -${t}-${e[1]}- -from-${t}-`;this.$datepicker.classList.add(...s.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:e,minDate:t,maxDate:s}=this;s&&m(e,s)&&this.setViewDate(s),t&&v(e,t)&&this.setViewDate(t)}formatDate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewDate,t=arguments.length>1?arguments[1]:void 0;if(e=w(e),!(e instanceof Date))return;let s=t,i=this.locale,n=r(e),a=n.dayPeriod,l=h(e),o=j.replacer,c={T:e.getTime(),m:n.minutes,mm:n.fullMinutes,h:n.hours12,hh:n.fullHours12,H:n.hours,HH:n.fullHours,aa:a,AA:a.toUpperCase(),E:i.daysShort[n.day],EEEE:i.days[n.day],d:n.date,dd:n.fullDate,M:n.month+1,MM:n.fullMonth,MMM:i.monthsShort[n.month],MMMM:i.months[n.month],yy:n.year.toString().slice(-2),yyyy:n.year,yyyy1:l[0],yyyy2:l[1]};for(let[e,t]of Object.entries(c))s=o(s,D(e),t);return s}down(e){this._handleUpDownActions(e,"down")}up(e){this._handleUpDownActions(e,"up")}selectDate(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{currentView:n,parsedViewDate:a,selectedDates:l}=this,{updateTime:o}=i,{moveToOtherMonthsOnSelect:r,moveToOtherYearsOnSelect:c,multipleDates:d,range:h,autoClose:u}=this.opts,p=l.length;if(Array.isArray(e))return e.forEach((e=>{this.selectDate(e,i)})),new Promise((e=>{setTimeout(e)}));if((e=w(e))instanceof Date){if(n===s.days&&e.getMonth()!==a.month&&r&&(t=new Date(e.getFullYear(),e.getMonth(),1)),n===s.years&&e.getFullYear()!==a.year&&c&&(t=new Date(e.getFullYear(),0,1)),t&&this.setViewDate(t),d&&!h){if(p===d)return;this._checkIfDateIsSelected(e)||l.push(e)}else if(h)switch(p){case 1:l.push(e),this.rangeDateTo||(this.rangeDateTo=e),m(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=e),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[e],this.rangeDateFrom=e,this.rangeDateTo="";break;default:this.selectedDates=[e],this.rangeDateFrom=e}else this.selectedDates=[e];return this.trigger(s.eventChangeSelectedDate,{action:s.actionSelectDate,silent:null==i?void 0:i.silent,date:e,updateTime:o}),this._updateLastSelectedDate(e),u&&!this.timepickerIsActive&&this.visible&&(d||h?h&&1===p&&this.hide():this.hide()),new Promise((e=>{setTimeout(e)}))}}unselectDate(e){let t=this.selectedDates,i=this;if((e=w(e))instanceof Date)return t.some(((n,a)=>{if(p(n,e))return t.splice(a,1),i.selectedDates.length?i._updateLastSelectedDate(i.selectedDates[i.selectedDates.length-1]):(i.rangeDateFrom="",i.rangeDateTo="",i._updateLastSelectedDate(!1)),this.trigger(s.eventChangeSelectedDate,{action:s.actionUnselectDate,date:e}),!0}))}replaceDate(e,t){let i=this.selectedDates.find((t=>p(t,e,this.currentView))),n=this.selectedDates.indexOf(i);n<0||p(this.selectedDates[n],t,this.currentView)||(this.selectedDates[n]=t,this.trigger(s.eventChangeSelectedDate,{action:s.actionSelectDate,date:t,updateTime:!0}),this._updateLastSelectedDate(t))}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.trigger(s.eventChangeSelectedDate,{action:s.actionUnselectDate,silent:e.silent}),new Promise((e=>{setTimeout(e)}))}show(){let{onShow:e,isMobile:t}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,e&&this._scheduleCallAfterTransition(e),t&&this._showMobileOverlay()}hide(){let{onHide:e,isMobile:t}=this.opts,s=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition((t=>{!this.customHide&&(t&&s||!t&&!s)&&this._finishHide(),e&&e(t)})),t&&B.classList.remove("-active-")}_triggerOnSelect(){let e=[],t=[],{selectedDates:s,locale:i,opts:{onSelect:n,multipleDates:a,range:l}}=this,o=a||l,r="function"==typeof i.dateFormat;s.length&&(e=s.map(f),t=r?a?i.dateFormat(e):e.map((e=>i.dateFormat(e))):e.map((e=>this.formatDate(e,i.dateFormat)))),n({date:o?e:e[0],formattedDate:o?t:t[0],datepicker:this})}_handleAlreadySelectedDates(e,t){let{range:s,toggleSelected:i}=this.opts;s?i?this.unselectDate(t):2!==this.selectedDates.length&&this.selectDate(t):i&&this.unselectDate(t),i||this._updateLastSelectedDate(e)}_handleUpDownActions(e,t){if(!((e=w(e||this.focusDate||this.viewDate))instanceof Date))return;let s="up"===t?this.viewIndex+1:this.viewIndex-1;s>2&&(s=2),s<0&&(s=0),this.setViewDate(new Date(e.getFullYear(),e.getMonth(),1)),this.setCurrentView(this.viewIndexes[s])}_handleRangeOnFocus(){1===this.selectedDates.length&&(m(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.day;if(!((e=w(e))instanceof Date))return;let{year:i,month:n,date:a}=r(e),l=`[data-year="${i}"]`,o=`[data-month="${n}"]`,c={[s.day]:`${l}${o}[data-date="${a}"]`,[s.month]:`${l}${o}`,[s.year]:`${l}`};return this.views[this.currentView].$el.querySelector(c[t])}_showMobileOverlay(){B.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce(((e,t)=>parseFloat(t)+e),0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return r(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return h(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===s.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===s.days}get $container(){return this.$customContainer||P}static replacer(e,t,s){return e.replace(t,(function(e,t,i,n){return t+s+n}))}}var U;return N(j,"defaults",i),N(j,"version","3.3.5"),N(j,"defaultGlobalContainerId","air-datepicker-global-container"),U=j.prototype,Object.assign(U,V),t.default}()},732:function(e){e.exports=function(){"use strict";function e(){return e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},e.apply(this,arguments)}var t="undefined"!=typeof window,s=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),i=t&&"IntersectionObserver"in window,n=t&&"classList"in document.createElement("p"),a=t&&window.devicePixelRatio>1,l={elements_selector:".lazy",container:s||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},o=function(t){return e({},l,t)},r=function(e,t){var s,i="LazyLoad::Initialized",n=new e(t);try{s=new CustomEvent(i,{detail:{instance:n}})}catch(e){(s=document.createEvent("CustomEvent")).initCustomEvent(i,!1,!1,{instance:n})}window.dispatchEvent(s)},c="src",d="srcset",h="sizes",u="poster",p="llOriginalAttrs",m="data",v="loading",f="loaded",g="applied",y="error",_="native",b="data-",S="ll-status",w=function(e,t){return e.getAttribute(b+t)},D=function(e){return w(e,S)},C=function(e,t){return function(e,t,s){var i="data-ll-status";null!==s?e.setAttribute(i,s):e.removeAttribute(i)}(e,0,t)},E=function(e){return C(e,null)},L=function(e){return null===D(e)},k=function(e){return D(e)===_},$=[v,f,g,y],A=function(e,t,s,i){e&&(void 0===i?void 0===s?e(t):e(t,s):e(t,s,i))},M=function(e,t){n?e.classList.add(t):e.className+=(e.className?" ":"")+t},T=function(e,t){n?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},q=function(e){return e.llTempImage},O=function(e,t){if(t){var s=t._observer;s&&s.unobserve(e)}},x=function(e,t){e&&(e.loadingCount+=t)},H=function(e,t){e&&(e.toLoadCount=t)},F=function(e){for(var t,s=[],i=0;t=e.children[i];i+=1)"SOURCE"===t.tagName&&s.push(t);return s},I=function(e,t){var s=e.parentNode;s&&"PICTURE"===s.tagName&&F(s).forEach(t)},V=function(e,t){F(e).forEach(t)},N=[c],P=[c,u],B=[c,d,h],R=[m],j=function(e){return!!e[p]},U=function(e){return e[p]},z=function(e){return delete e[p]},K=function(e,t){if(!j(e)){var s={};t.forEach((function(t){s[t]=e.getAttribute(t)})),e[p]=s}},Y=function(e,t){if(j(e)){var s=U(e);t.forEach((function(t){!function(e,t,s){s?e.setAttribute(t,s):e.removeAttribute(t)}(e,t,s[t])}))}},Z=function(e,t,s){M(e,t.class_applied),C(e,g),s&&(t.unobserve_completed&&O(e,t),A(t.callback_applied,e,s))},G=function(e,t,s){M(e,t.class_loading),C(e,v),s&&(x(s,1),A(t.callback_loading,e,s))},W=function(e,t,s){s&&e.setAttribute(t,s)},J=function(e,t){W(e,h,w(e,t.data_sizes)),W(e,d,w(e,t.data_srcset)),W(e,c,w(e,t.data_src))},X={IMG:function(e,t){I(e,(function(e){K(e,B),J(e,t)})),K(e,B),J(e,t)},IFRAME:function(e,t){K(e,N),W(e,c,w(e,t.data_src))},VIDEO:function(e,t){V(e,(function(e){K(e,N),W(e,c,w(e,t.data_src))})),K(e,P),W(e,u,w(e,t.data_poster)),W(e,c,w(e,t.data_src)),e.load()},OBJECT:function(e,t){K(e,R),W(e,m,w(e,t.data_src))}},Q=["IMG","IFRAME","VIDEO","OBJECT"],ee=function(e,t){!t||function(e){return e.loadingCount>0}(t)||function(e){return e.toLoadCount>0}(t)||A(e.callback_finish,t)},te=function(e,t,s){e.addEventListener(t,s),e.llEvLisnrs[t]=s},se=function(e,t,s){e.removeEventListener(t,s)},ie=function(e){return!!e.llEvLisnrs},ne=function(e){if(ie(e)){var t=e.llEvLisnrs;for(var s in t){var i=t[s];se(e,s,i)}delete e.llEvLisnrs}},ae=function(e,t,s){!function(e){delete e.llTempImage}(e),x(s,-1),function(e){e&&(e.toLoadCount-=1)}(s),T(e,t.class_loading),t.unobserve_completed&&O(e,s)},le=function(e,t,s){var i=q(e)||e;ie(i)||function(e,t,s){ie(e)||(e.llEvLisnrs={});var i="VIDEO"===e.tagName?"loadeddata":"load";te(e,i,t),te(e,"error",s)}(i,(function(n){!function(e,t,s,i){var n=k(t);ae(t,s,i),M(t,s.class_loaded),C(t,f),A(s.callback_loaded,t,i),n||ee(s,i)}(0,e,t,s),ne(i)}),(function(n){!function(e,t,s,i){var n=k(t);ae(t,s,i),M(t,s.class_error),C(t,y),A(s.callback_error,t,i),s.restore_on_error&&Y(t,B),n||ee(s,i)}(0,e,t,s),ne(i)}))},oe=function(e,t,s){!function(e){return Q.indexOf(e.tagName)>-1}(e)?function(e,t,s){!function(e){e.llTempImage=document.createElement("IMG")}(e),le(e,t,s),function(e){j(e)||(e[p]={backgroundImage:e.style.backgroundImage})}(e),function(e,t,s){var i=w(e,t.data_bg),n=w(e,t.data_bg_hidpi),l=a&&n?n:i;l&&(e.style.backgroundImage='url("'.concat(l,'")'),q(e).setAttribute(c,l),G(e,t,s))}(e,t,s),function(e,t,s){var i=w(e,t.data_bg_multi),n=w(e,t.data_bg_multi_hidpi),l=a&&n?n:i;l&&(e.style.backgroundImage=l,Z(e,t,s))}(e,t,s),function(e,t,s){var i=w(e,t.data_bg_set);if(i){var n=i.split("|"),a=n.map((function(e){return"image-set(".concat(e,")")}));e.style.backgroundImage=a.join(),""===e.style.backgroundImage&&(a=n.map((function(e){return"-webkit-image-set(".concat(e,")")})),e.style.backgroundImage=a.join()),Z(e,t,s)}}(e,t,s)}(e,t,s):function(e,t,s){le(e,t,s),function(e,t,s){var i=X[e.tagName];i&&(i(e,t),G(e,t,s))}(e,t,s)}(e,t,s)},re=function(e){e.removeAttribute(c),e.removeAttribute(d),e.removeAttribute(h)},ce=function(e){I(e,(function(e){Y(e,B)})),Y(e,B)},de={IMG:ce,IFRAME:function(e){Y(e,N)},VIDEO:function(e){V(e,(function(e){Y(e,N)})),Y(e,P),e.load()},OBJECT:function(e){Y(e,R)}},he=function(e,t){(function(e){var t=de[e.tagName];t?t(e):function(e){if(j(e)){var t=U(e);e.style.backgroundImage=t.backgroundImage}}(e)})(e),function(e,t){L(e)||k(e)||(T(e,t.class_entered),T(e,t.class_exited),T(e,t.class_applied),T(e,t.class_loading),T(e,t.class_loaded),T(e,t.class_error))}(e,t),E(e),z(e)},ue=["IMG","IFRAME","VIDEO"],pe=function(e){return e.use_native&&"loading"in HTMLImageElement.prototype},me=function(e,t,s){e.forEach((function(e){return function(e){return e.isIntersecting||e.intersectionRatio>0}(e)?function(e,t,s,i){var n=function(e){return $.indexOf(D(e))>=0}(e);C(e,"entered"),M(e,s.class_entered),T(e,s.class_exited),function(e,t,s){t.unobserve_entered&&O(e,s)}(e,s,i),A(s.callback_enter,e,t,i),n||oe(e,s,i)}(e.target,e,t,s):function(e,t,s,i){L(e)||(M(e,s.class_exited),function(e,t,s,i){s.cancel_on_exit&&function(e){return D(e)===v}(e)&&"IMG"===e.tagName&&(ne(e),function(e){I(e,(function(e){re(e)})),re(e)}(e),ce(e),T(e,s.class_loading),x(i,-1),E(e),A(s.callback_cancel,e,t,i))}(e,t,s,i),A(s.callback_exit,e,t,i))}(e.target,e,t,s)}))},ve=function(e){return Array.prototype.slice.call(e)},fe=function(e){return e.container.querySelectorAll(e.elements_selector)},ge=function(e){return function(e){return D(e)===y}(e)},ye=function(e,t){return function(e){return ve(e).filter(L)}(e||fe(t))},_e=function(e,s){var n=o(e);this._settings=n,this.loadingCount=0,function(e,t){i&&!pe(e)&&(t._observer=new IntersectionObserver((function(s){me(s,e,t)}),function(e){return{root:e.container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}}(e)))}(n,this),function(e,s){t&&(s._onlineHandler=function(){!function(e,t){var s;(s=fe(e),ve(s).filter(ge)).forEach((function(t){T(t,e.class_error),E(t)})),t.update()}(e,s)},window.addEventListener("online",s._onlineHandler))}(n,this),this.update(s)};return _e.prototype={update:function(e){var t,n,a=this._settings,l=ye(e,a);H(this,l.length),!s&&i?pe(a)?function(e,t,s){e.forEach((function(e){-1!==ue.indexOf(e.tagName)&&function(e,t,s){e.setAttribute("loading","lazy"),le(e,t,s),function(e,t){var s=X[e.tagName];s&&s(e,t)}(e,t),C(e,_)}(e,t,s)})),H(s,0)}(l,a,this):(n=l,function(e){e.disconnect()}(t=this._observer),function(e,t){t.forEach((function(t){e.observe(t)}))}(t,n)):this.loadAll(l)},destroy:function(){this._observer&&this._observer.disconnect(),t&&window.removeEventListener("online",this._onlineHandler),fe(this._settings).forEach((function(e){z(e)})),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){var t=this,s=this._settings;ye(e,s).forEach((function(e){O(e,t),oe(e,s,t)}))},restoreAll:function(){var e=this._settings;fe(e).forEach((function(t){he(t,e)}))}},_e.load=function(e,t){var s=o(t);oe(e,s)},_e.resetStatus=function(e){E(e)},t&&function(e,t){if(t)if(t.length)for(var s,i=0;s=t[i];i+=1)r(e,s);else r(e,t)}(_e,window.lazyLoadOptions),_e}()}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e={};let t=(e,t=500,s=0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!s,!s&&e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),!s&&e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))}),t))},i=(e,t=500,s=0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden=!e.hidden&&null,s&&e.style.removeProperty("height");let i=e.offsetHeight;e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=i+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))}),t)}},n=(e,s=500)=>e.hidden?i(e,s):t(e,s),a=!0,l=(e=500)=>{let t=document.querySelector("body");if(a){let s=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<s.length;e++){s[e].style.paddingRight="0px"}t.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),e),a=!1,setTimeout((function(){a=!0}),e)}},o=(e=500)=>{let t=document.querySelector("body");if(a){let s=document.querySelectorAll("[data-lp]");for(let e=0;e<s.length;e++){s[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),a=!1,setTimeout((function(){a=!0}),e)}};function r(e){setTimeout((()=>{window.FLS&&console.log(e)}),0)}function c(e,t){const s=Array.from(e).filter((function(e,s,i){if(e.dataset[t])return e.dataset[t].split(",")[0]}));if(s.length){const e=[];s.forEach((s=>{const i={},n=s.dataset[t].split(",");i.value=n[0],i.type=n[1]?n[1].trim():"max",i.item=s,e.push(i)}));let i=e.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));i=function(e){return e.filter((function(e,t,s){return s.indexOf(e)===t}))}(i);const n=[];if(i.length)return i.forEach((t=>{const s=t.split(","),i=s[1],a=s[2],l=window.matchMedia(s[0]),o=e.filter((function(e){if(e.value===i&&e.type===a)return!0}));n.push({itemsArray:o,matchMedia:l})})),n}}let d=(e,t=!1,s=500,i=0)=>{const n=document.querySelector(e);if(n){let a="",o=0;t&&(a="header.header",o=document.querySelector(a).offsetHeight);let c={speedAsDuration:!0,speed:s,header:a,offset:i,easing:"easeOutQuad"};if(document.documentElement.classList.contains("menu-open")&&(l(),document.documentElement.classList.remove("menu-open")),"undefined"!=typeof SmoothScroll)(new SmoothScroll).animateScroll(n,"",c);else{let e=n.getBoundingClientRect().top+scrollY;e=o?e-o:e,e=i?e-i:e,window.scrollTo({top:e,behavior:"smooth"})}r(`[gotoBlock]: Юхуу...едем к ${e}`)}else r(`[gotoBlock]: Ой ой..Такого блока нет на странице: ${e}`)};let h={getErrors(e){let t=0,s=e.querySelectorAll("*[data-required]");return s.length&&s.forEach((e=>{e.disabled||(t+=this.validateInput(e))})),t},validateInput(e){let t=0;if("email"==e.dataset.required&&(e.value=e.value.replace(" ",""),this.emailTest(e)?(this.addError(e),t++):this.removeError(e)),"radio"==e.dataset.required){function s(){for(let t=0;t<e.children.length;t+=2)if(e.children[t].checked)return!0;return!1}s()||(this.addError(e),t++)}if("repeat"==e.dataset.required){document.querySelector(e.dataset.repeat).value==e.value?this.removeError(e):(this.addError(e),t++)}return""==e.dataset.required&&(e.value.trim()?this.removeError(e):(this.addError(e),t++)),t},addError(e){e.classList.add("_form-error"),e.parentElement.classList.add("_form-error");let t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t),e.dataset.error&&e.parentElement.insertAdjacentHTML("beforeend",`<div class="form__error">${e.dataset.error}</div>`)},removeError(e){e.classList.remove("_form-error"),e.parentElement.classList.remove("_form-error"),e.parentElement.querySelector(".form__error")&&e.parentElement.removeChild(e.parentElement.querySelector(".form__error"))},formClean(t){t.reset(),setTimeout((()=>{let s=t.querySelectorAll("input,textarea");for(let e=0;e<s.length;e++){const t=s[e];t.parentElement.classList.remove("_form-focus"),t.classList.remove("_form-focus"),h.removeError(t)}let i=t.querySelectorAll(".checkbox__input");if(i.length>0)for(let e=0;e<i.length;e++){i[e].checked=!1}if(e.select){let s=t.querySelectorAll(".select");if(s.length)for(let t=0;t<s.length;t++){const i=s[t].querySelector("select");e.select.selectBuild(i)}}}),0)},emailTest(e){var t=e.value;return!/^[\w-\.]+@[\w-]+\.[a-z]{2,4}$/i.test(t)}};e.select=new class{constructor(e,t=null){if(this.config=Object.assign({init:!0,logging:!0},e),this.selectClasses={classSelect:"select",classSelectBody:"select__body",classSelectTitle:"select__title",classSelectValue:"select__value",classSelectLabel:"select__label",classSelectInput:"select__input",classSelectText:"select__text",classSelectLink:"select__link",classSelectOptions:"select__options",classSelectOptionsScroll:"select__scroll",classSelectOption:"select__option",classSelectContent:"select__content",classSelectRow:"select__row",classSelectData:"select__asset",classSelectDisabled:"_select-disabled",classSelectTag:"_select-tag",classSelectOpen:"_select-open",classSelectActive:"_select-active",classSelectFocus:"_select-focus",classSelectMultiple:"_select-multiple",classSelectCheckBox:"_select-checkbox",classSelectOptionSelected:"_select-selected",classSelectPseudoLabel:"_select-pseudo-label"},this._this=this,this.config.init){const e=t?document.querySelectorAll(t):document.querySelectorAll("select");e.length?(this.selectsInit(e),this.setLogging(`Проснулся, построил селектов: (${e.length})`)):this.setLogging("Сплю, нет ни одного select zzZZZzZZz")}}getSelectClass(e){return`.${e}`}getSelectElement(e,t){return{originalSelect:e.querySelector("select"),selectElement:e.querySelector(this.getSelectClass(t))}}selectsInit(e){e.forEach(((e,t)=>{this.selectInit(e,t+1)})),document.addEventListener("click",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("keydown",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("focusin",function(e){this.selectsActions(e)}.bind(this)),document.addEventListener("focusout",function(e){this.selectsActions(e)}.bind(this))}selectInit(e,t){const s=this;let i=document.createElement("div");if(i.classList.add(this.selectClasses.classSelect),e.parentNode.insertBefore(i,e),i.appendChild(e),e.hidden=!0,t&&(e.dataset.id=t),this.getSelectPlaceholder(e)&&(e.dataset.placeholder=this.getSelectPlaceholder(e).value,this.getSelectPlaceholder(e).label.show)){this.getSelectElement(i,this.selectClasses.classSelectTitle).selectElement.insertAdjacentHTML("afterbegin",`<span class="${this.selectClasses.classSelectLabel}">${this.getSelectPlaceholder(e).label.text?this.getSelectPlaceholder(e).label.text:this.getSelectPlaceholder(e).value}</span>`)}i.insertAdjacentHTML("beforeend",`<div class="${this.selectClasses.classSelectBody}"><div hidden class="${this.selectClasses.classSelectOptions}"></div></div>`),this.selectBuild(e),e.dataset.speed=e.dataset.speed?e.dataset.speed:"150",e.addEventListener("change",(function(e){s.selectChange(e)}))}selectBuild(e){const t=e.parentElement;t.dataset.id=e.dataset.id,e.dataset.classModif&&t.classList.add(`select_${e.dataset.classModif}`),e.multiple?t.classList.add(this.selectClasses.classSelectMultiple):t.classList.remove(this.selectClasses.classSelectMultiple),e.hasAttribute("data-checkbox")&&e.multiple?t.classList.add(this.selectClasses.classSelectCheckBox):t.classList.remove(this.selectClasses.classSelectCheckBox),this.setSelectTitleValue(t,e),this.setOptions(t,e),e.hasAttribute("data-search")&&this.searchActions(t),e.hasAttribute("data-open")&&this.selectAction(t),this.selectDisabled(t,e)}selectsActions(e){const t=e.target,s=e.type;if(t.closest(this.getSelectClass(this.selectClasses.classSelect))||t.closest(this.getSelectClass(this.selectClasses.classSelectTag))){const i=t.closest(".select")?t.closest(".select"):document.querySelector(`.${this.selectClasses.classSelect}[data-id="${t.closest(this.getSelectClass(this.selectClasses.classSelectTag)).dataset.selectId}"]`),n=this.getSelectElement(i).originalSelect;if("click"===s){if(!n.disabled)if(t.closest(this.getSelectClass(this.selectClasses.classSelectTag))){const e=t.closest(this.getSelectClass(this.selectClasses.classSelectTag)),s=document.querySelector(`.${this.selectClasses.classSelect}[data-id="${e.dataset.selectId}"] .select__option[data-value="${e.dataset.value}"]`);this.optionAction(i,n,s)}else if(t.closest(this.getSelectClass(this.selectClasses.classSelectTitle)))this.selectAction(i);else if(t.closest(this.getSelectClass(this.selectClasses.classSelectOption))){const e=t.closest(this.getSelectClass(this.selectClasses.classSelectOption));this.optionAction(i,n,e)}}else"focusin"===s||"focusout"===s?t.closest(this.getSelectClass(this.selectClasses.classSelect))&&("focusin"===s?i.classList.add(this.selectClasses.classSelectFocus):i.classList.remove(this.selectClasses.classSelectFocus)):"keydown"===s&&"Escape"===e.code&&this.selectsСlose()}else this.selectsСlose()}selectsСlose(e){const t=(e||document).querySelectorAll(`${this.getSelectClass(this.selectClasses.classSelect)}${this.getSelectClass(this.selectClasses.classSelectOpen)}`);t.length&&t.forEach((e=>{this.selectСlose(e)}))}selectСlose(e){const s=this.getSelectElement(e).originalSelect,i=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;i.classList.contains("_slide")||(e.classList.remove(this.selectClasses.classSelectOpen),t(i,s.dataset.speed))}selectAction(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;if(t.closest("[data-one-select]")){const e=t.closest("[data-one-select]");this.selectsСlose(e)}s.classList.contains("_slide")||(e.classList.toggle(this.selectClasses.classSelectOpen),n(s,t.dataset.speed))}setSelectTitleValue(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectBody).selectElement,i=this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement;i&&i.remove(),s.insertAdjacentHTML("afterbegin",this.getSelectTitleValue(e,t))}getSelectTitleValue(e,t){let s=this.getSelectedOptionsData(t,2).html;t.multiple&&t.hasAttribute("data-tags")&&(s=this.getSelectedOptionsData(t).elements.map((t=>`<span role="button" data-select-id="${e.dataset.id}" data-value="${t.value}" class="_select-tag">${this.getSelectElementContent(t)}</span>`)).join(""),t.dataset.tags&&document.querySelector(t.dataset.tags)&&(document.querySelector(t.dataset.tags).innerHTML=s,t.hasAttribute("data-search")&&(s=!1))),s=s.length?s:t.dataset.placeholder?t.dataset.placeholder:"";let i="",n="";if(t.hasAttribute("data-pseudo-label")&&(i=t.dataset.pseudoLabel?` data-pseudo-label="${t.dataset.pseudoLabel}"`:' data-pseudo-label="Заполните атрибут"',n=` ${this.selectClasses.classSelectPseudoLabel}`),this.getSelectedOptionsData(t).values.length?e.classList.add(this.selectClasses.classSelectActive):e.classList.remove(this.selectClasses.classSelectActive),t.hasAttribute("data-search"))return`<div class="${this.selectClasses.classSelectTitle}"><span${i} class="${this.selectClasses.classSelectValue}"><input autocomplete="off" type="text" placeholder="${s}" data-placeholder="${s}" class="${this.selectClasses.classSelectInput}"></span></div>`;{const e=this.getSelectedOptionsData(t).elements.length&&this.getSelectedOptionsData(t).elements[0].dataset.class?` ${this.getSelectedOptionsData(t).elements[0].dataset.class}`:"";return`<button type="button" class="${this.selectClasses.classSelectTitle}"><span${i} class="${this.selectClasses.classSelectValue}${n}"><span class="${this.selectClasses.classSelectContent}${e}">${s}</span></span></button>`}}getSelectElementContent(e){const t=e.dataset.asset?`${e.dataset.asset}`:"",s=t.indexOf("img")>=0?`<img src="${t}" alt="">`:t;let i="";return i+=t?`<span class="${this.selectClasses.classSelectRow}">`:"",i+=t?`<span class="${this.selectClasses.classSelectData}">`:"",i+=t?s:"",i+=t?"</span>":"",i+=t?`<span class="${this.selectClasses.classSelectText}">`:"",i+=e.textContent,i+=t?"</span>":"",i+=t?"</span>":"",i}getSelectPlaceholder(e){const t=Array.from(e.options).find((e=>!e.value));if(t)return{value:t.textContent,show:t.hasAttribute("data-show"),label:{show:t.hasAttribute("data-label"),text:t.dataset.label}}}getSelectedOptionsData(e,t){let s=[];return e.multiple?s=Array.from(e.options).filter((e=>e.value)).filter((e=>e.selected)):s.push(e.options[e.selectedIndex]),{elements:s.map((e=>e)),values:s.filter((e=>e.value)).map((e=>e.value)),html:s.map((e=>this.getSelectElementContent(e)))}}getOptions(e){let t=e.hasAttribute("data-scroll")?"data-simplebar":"",s=e.dataset.scroll?`style="max-height:${e.dataset.scroll}px"`:"",i=Array.from(e.options);if(i.length>0){let n="";return(this.getSelectPlaceholder(e)&&!this.getSelectPlaceholder(e).show||e.multiple)&&(i=i.filter((e=>e.value))),n+=t?`<div ${t} ${s} class="${this.selectClasses.classSelectOptionsScroll}">`:"",i.forEach((t=>{n+=this.getOption(t,e)})),n+=t?"</div>":"",n}}getOption(e,t){const s=e.selected&&t.multiple?` ${this.selectClasses.classSelectOptionSelected}`:"",i=!e.selected||t.hasAttribute("data-show-selected")||t.multiple?"":"hidden",n=e.dataset.class?` ${e.dataset.class}`:"",a=!!e.dataset.href&&e.dataset.href,l=e.hasAttribute("data-href-blank")?'target="_blank"':"";let o="";return o+=a?`<a ${l} ${i} href="${a}" data-value="${e.value}" class="${this.selectClasses.classSelectOption}${n}${s}">`:`<button ${i} class="${this.selectClasses.classSelectOption}${n}${s}" data-value="${e.value}" type="button">`,o+=this.getSelectElementContent(e),o+=a?"</a>":"</button>",o}setOptions(e,t){this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement.innerHTML=this.getOptions(t)}optionAction(e,t,s){if(t.multiple){s.classList.toggle(this.selectClasses.classSelectOptionSelected);this.getSelectedOptionsData(t).elements.forEach((e=>{e.removeAttribute("selected")}));e.querySelectorAll(this.getSelectClass(this.selectClasses.classSelectOptionSelected)).forEach((e=>{t.querySelector(`option[value="${e.dataset.value}"]`).setAttribute("selected","selected")}))}else t.hasAttribute("data-show-selected")||(e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`)&&(e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`).hidden=!1),s.hidden=!0),t.value=s.hasAttribute("data-value")?s.dataset.value:s.textContent,this.selectAction(e);this.setSelectTitleValue(e,t),this.setSelectChange(t)}selectChange(e){const t=e.target;this.selectBuild(t),this.setSelectChange(t)}setSelectChange(e){if(e.hasAttribute("data-validate")&&h.validateInput(e),e.hasAttribute("data-submit")&&e.value){let t=document.createElement("button");t.type="submit",e.closest("form").append(t),t.click(),t.remove()}const t=e.parentElement;this.selectCallback(t,e)}selectDisabled(e,t){t.disabled?(e.classList.add(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!0):(e.classList.remove(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!1)}searchActions(e){this.getSelectElement(e).originalSelect;const t=this.getSelectElement(e,this.selectClasses.classSelectInput).selectElement,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,i=s.querySelectorAll(`.${this.selectClasses.classSelectOption}`),n=this;t.addEventListener("input",(function(){i.forEach((e=>{e.textContent.toUpperCase().indexOf(t.value.toUpperCase())>=0?e.hidden=!1:e.hidden=!0})),!0===s.hidden&&n.selectAction(e)}))}selectCallback(e,t){document.dispatchEvent(new CustomEvent("selectCallback",{detail:{select:t}}))}setLogging(e){this.config.logging&&r(`[select]: ${e}`)}}({});new(s(732))({elements_selector:"[data-src],[data-srcset]",class_loaded:"_lazy-loaded",use_native:!0});var u=s(545);const p=s.n(u)();let m=document.querySelectorAll(".but-share"),v=document.querySelectorAll("#share");m.forEach((e=>{e.addEventListener("click",(function(e){v.forEach((e=>{e.classList.add("active")}))})),v.forEach((e=>{e.querySelector(".popup__close").addEventListener("click",(function(e){v.forEach((e=>{e.classList.remove("active")}))}))}))}));let f=document.querySelectorAll("#replayBut"),g=document.querySelectorAll("#replay");if(f.forEach((e=>{e.addEventListener("click",(function(t){g.forEach((t=>{t.classList.add("active"),e.classList.contains("save")||(e.classList.add("hidden"),e.innerHTML="Код отправлен",setTimeout((function(){t.classList.remove("active")}),3e3))}))})),g.forEach((t=>{t.querySelector(".popup__close").addEventListener("click",(function(t){g.forEach((t=>{t.classList.remove("active"),e.classList.contains("save")||(e.classList.add("hidden"),e.innerHTML="Код отправлен")}))}))}))})),document.querySelectorAll(".copy").forEach((e=>{let t=e.querySelector("#copy-but"),s=e.querySelector("#copy-link");t.addEventListener("click",(function(e){let i=document.createElement("input");i.setAttribute("value",s.value),document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),t.querySelector("span").textContent="Скопировано"}))})),document.querySelector(".profile")){const A=document.querySelector(".profile");A.querySelector(".profile__points").addEventListener("click",(function(){A.querySelector(".profile-menu").classList.toggle("active"),A.querySelector(".profile__points").classList.toggle("active")}))}if(document.querySelector("#popup-ava")){const M=document.querySelector(".profile__but");document.querySelector("#edit-ava").addEventListener("click",(function(){document.querySelector("#ava-load").click()})),document.querySelector("#ava-img").addEventListener("click",(function(){M.click()})),document.querySelector("#ava-close").addEventListener("click",(function(){document.querySelector("#ava-menu").classList.remove("active")})),M.addEventListener("click",(function(){document.querySelector("#ava-menu").classList.toggle("active")}))}if(document.querySelector("#up-file")){const T=document.querySelectorAll("#up-file");document.querySelectorAll("#up-btn").forEach((e=>{e.addEventListener("click",(function(){T.forEach((e=>{e.click()}))}))}))}let y=document.querySelectorAll(".save"),_=document.querySelectorAll(".save-popup");y.forEach((e=>{document.addEventListener("formSent",(function(e){_.forEach((e=>{e.classList.add("active"),setTimeout((function(){e.classList.remove("active")}),3e3)}))})),_.forEach((e=>{e.querySelector(".popup__close").addEventListener("click",(function(e){_.forEach((e=>{e.classList.remove("active")}))}))}))}));let b=document.querySelectorAll("#deleteBut"),S=document.querySelectorAll(".popup-delete");b.forEach((e=>{e.addEventListener("click",(function(e){S.forEach((e=>{e.classList.add("active")}))})),S.forEach((e=>{e.querySelector(".popup__close").addEventListener("click",(function(e){S.forEach((e=>{e.classList.remove("active")}))})),e.querySelector(".popup-delete__but-cancel").addEventListener("click",(function(e){S.forEach((e=>{e.classList.remove("active")}))})),e.querySelector(".popup-delete__but-delete").addEventListener("click",(function(e){S.forEach((e=>{e.classList.remove("active"),document.querySelector("#delete-time").classList.add("active")}))}))}))}));let w=document.querySelectorAll(".cancel-but"),D=document.querySelectorAll("#delete-time");if(w.forEach((e=>{e.addEventListener("click",(function(e){D.forEach((e=>{e.classList.remove("active")}))}))})),document.querySelector(".msg-msg")&&document.querySelectorAll(".msg-msg").forEach((e=>{for(var t=e.getElementsByTagName("textarea"),s=0;s<t.length;s++)t[s].setAttribute("style","height:"+t[s].scrollHeight+"px;"),t[s].addEventListener("input",i,!1);function i(){let e=this.parentElement.parentElement.parentElement,t=e.querySelector(".send__len"),s=e.querySelector(".send__icon-msg");this.value.length>5e3?t.setAttribute("style","color:red;"):t.setAttribute("style","color:rgba(155, 155, 207, 0.6);"),0==this.value.length?s.classList.remove("active"):this.value.length>0&&s.classList.add("active"),t.innerHTML=this.value.length,this.style.height="auto",this.style.height=this.scrollHeight+"px"}let n,a,l=e.querySelector(".send__icon-msg"),o=e.querySelector(".msg__reset"),r=e.querySelector(".msg__textarea textarea"),c=e.querySelector(".msg__text");if(e.querySelector(".profile__points").addEventListener("click",(function(){e.querySelector(".profile-menu").classList.toggle("active"),e.querySelector(".profile__points").classList.toggle("active")})),l.addEventListener("click",(function(){if(e.classList.add("active"),e.querySelector(".send-edit").style.display="flex",o.classList.remove("active"),c.classList.remove("scroll"),e.querySelector(".profile-menu__submenu").classList.contains("active")?(n=`${e.querySelector(".menu-submenu__text").value}`,e.querySelector(".profile-menu__submenu").classList.remove("active")):n=`${r.value}`,c.innerHTML=n,e.querySelector(".msg__all").style.display="none",e.querySelector(".menu-submenu__text").value=n,a=c.scrollHeight,c.style.height=a+"px",a>200){e.querySelector(".msg__all").style.display="block";let t=e.querySelector(".msg__all");t.addEventListener("click",(function(){t.style.display="none",o.classList.add("active"),c.classList.add("scroll")}))}e.parentElement.querySelector(".pay")&&e.parentElement.querySelector(".pay").classList.add("active"),r.style.height="50px",r.value=""})),o.addEventListener("click",(function(){o.classList.remove("active"),c.classList.remove("scroll"),e.querySelector(".msg__text").style.height=c.scrollHeight+"px",e.querySelector(".msg__all").style.display="flex"})),e.querySelector("#send-edit")&&e.querySelector("#send-edit").addEventListener("click",(function(){l.click()})),e.querySelector("#copy-sms")&&e.querySelector("#copy-sms").addEventListener("click",(function(){!function(e){var t,s,i="_hiddenCopyText_",n="INPUT"===e.tagName||"TEXTAREA"===e.tagName;if(n)a=e,t=e.selectionStart,s=e.selectionEnd;else{if(!(a=document.getElementById(i))){var a=document.createElement("textarea");a.style.position="absolute",a.style.left="-9999px",a.style.top="0",a.id=i,document.body.appendChild(a)}a.textContent=e.textContent}var l=document.activeElement;a.focus(),a.setSelectionRange(0,a.value.length);try{document.execCommand("copy")}catch(e){}l&&"function"==typeof l.focus&&l.focus(),n?e.setSelectionRange(t,s):a.textContent=""}(e.querySelector(".msg__text"))})),e.querySelector("#edit-textarea")){let t=e.querySelector("#edit-textarea"),s=e.querySelector(".send-edit");t.addEventListener("click",(function(){e.querySelector(".send-edit").style.display="none",e.querySelector(".profile-menu__submenu").classList.add("active"),e.querySelector(".msg-menu").classList.remove("active"),e.querySelector(".msg__points").classList.remove("active")})),s.addEventListener("click",(function(){e.querySelector(".send-edit").style.display="none",e.querySelector(".profile-menu__submenu").classList.add("active"),e.querySelector(".msg-menu").classList.remove("active"),e.querySelector(".msg__points").classList.remove("active")})),e.querySelector("#menu-submenu__close").addEventListener("click",(function(){e.querySelector(".send-edit").style.display="flex",e.querySelector(".profile-menu__submenu").classList.remove("active")}))}e.querySelector("#delete-sms")&&e.querySelector("#delete-sms").addEventListener("click",(function(){e.querySelector(".send-edit").style.display="none",e.classList.remove("active"),e.querySelector(".send__icon-msg").classList.remove("active"),e.querySelector(".send__len").textContent="0",e.querySelector(".msg__points").click(),e.querySelector(".msg__all").style.display="none",e.querySelector(".msg__reset").classList.remove("active")}))})),document.querySelector(".msg__content-audio")&&function(){let e=!1;document.querySelectorAll(".msg__content-audio").forEach((t=>{let s,i,n,a=t.querySelector("#audio-btn"),l=t.querySelector("#audio-input"),o=t.querySelector("#audio-del");a.addEventListener("pointerdown",(function(){0==e&&(l.innerHTML="<svg><use href='img/icons/icons.svg#del'></use></svg><span>00:00/01:00</span>",a.classList.add("active"),s=setTimeout((function(){let e=1;a.innerHTML="<span></span>",i=setInterval((function(){e>=60?(a.innerHTML="<svg><use id='micro' href='img/icons/icons.svg#micro'></use></svg>",clearInterval(i),clearTimeout(s),a.classList.remove("active"),l.innerHTML="Ваше сообщение",t.classList.add("active")):(n=e<10?`00:0${e}`:60==e?"01:00":`00:${e}`,l.innerHTML=`<svg><use href='img/icons/icons.svg#del'></use></svg><span>${n}/01:00</span>`),e+=1}),1e3)}),10),e=!0)})),window.addEventListener("pointerup",(function(){if(e){if(a.innerHTML="<svg><use id='micro' href='img/icons/icons.svg#micro'></use></svg>",clearInterval(i),clearTimeout(s),a.classList.remove("active"),l.innerHTML="Ваше сообщение",t.classList.add("active"),o.classList.add("active"),t.querySelector(".msg__column").classList.add("active"),t.querySelector(".msg__column").innerHTML=`<div class="msg__audio my-audio">\n        <button class="my-audio__button">\n            <svg width="10" height="11" viewBox="0 0 10 11" fill="none"\n                xmlns="http://www.w3.org/2000/svg">\n                <path\n                    d="M9 3.75752C10.3333 4.53196 10.3333 6.46804 9 7.24248L3 10.7274C1.66666 11.5019 -6.72981e-08 10.5338 0 8.98496L3.02841e-07 2.01504C3.70139e-07 0.466171 1.66667 -0.501871 3 0.272564L9 3.75752Z"\n                    fill="#9B9BCF" />\n            </svg>\n        </button>\n        <audio\n            src="https://www.zapsplat.com/wp-content/uploads/2015/sound-effects-61905/zapsplat_multimedia_alert_chime_short_musical_notification_cute_child_like_001_64918.mp3?_=1"></audio>\n            <input type="range" class="timeline" max="100" value="0">\n\n        <div class="my-audio__time">\n            ${n}\n        </div>\n    </div>`,t.querySelector(".msg__column")){let r=t.querySelector(".msg__column"),c='<svg width="10" height="11" viewBox="0 0 10 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 3.75752C10.3333 4.53196 10.3333 6.46804 9 7.24248L3 10.7274C1.66666 11.5019 -6.72981e-08 10.5338 0 8.98496L3.02841e-07 2.01504C3.70139e-07 0.466171 1.66667 -0.501871 3 0.272564L9 3.75752Z" fill="#9B9BCF"/></svg>',d='<svg width="10" height="11" viewBox="0 0 10 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.66667 11C2.58333 11 3.33333 10.2929 3.33333 9.42857V1.57143C3.33333 0.707143 2.58333 0 1.66667 0C0.75 0 0 0.707143 0 1.57143V9.42857C0 10.2929 0.75 11 1.66667 11ZM6.66667 1.57143V9.42857C6.66667 10.2929 7.41667 11 8.33333 11C9.25 11 10 10.2929 10 9.42857V1.57143C10 0.707143 9.25 0 8.33333 0C7.41667 0 6.66667 0.707143 6.66667 1.57143Z" fill="#9B9BCF"/></svg>',h=r.querySelector(".timeline"),u=r.querySelector("audio"),p=r.querySelector(".my-audio__button");if(p){function m(){const e=100*u.currentTime/u.duration;h.style.backgroundSize=`${e}% 100%`,h.value=e}function v(){const e=h.value*u.duration/100;u.currentTime=e}p.addEventListener("click",(function(){u.paused?(u.play(),p.innerHTML=d):(u.pause(),p.innerHTML=c)})),u.ontimeupdate=m,h.addEventListener("change",v),u.onended=function(){p.innerHTML=c}}}e=!1}})),document.querySelector("#del-audio-btn")&&document.querySelector("#del-audio-btn").addEventListener("click",(function(){t.querySelector(".msg__column").innerHTML=" ",t.querySelector(".msg__column").classList.remove("active"),o.classList.remove("active"),t.classList.remove("active"),e=!1}))}))}(),document.querySelector(".letter")&&function(){let e=document.querySelectorAll(".letter"),t=document.querySelector(".data-letter__msg"),s=document.querySelector(".letter__decor"),i=t.textContent;e.forEach((e=>{document.querySelector(".popup-text-full__p").textContent=i,t.innerHTML=i;let n=e.querySelector("#open-letter");n.addEventListener("click",(function(){e.classList.contains("active")?n.textContent="Открыть":n.textContent="Закрыть",e.classList.toggle("active"),document.querySelector(".add__head").classList.toggle("hidden")})),s&&(e.classList.contains("active")||s.addEventListener("click",(function(){e.classList.toggle("active"),n.textContent="Закрыть",document.querySelector(".add__head").classList.toggle("hidden")})))})),document.querySelector("#confirm-letter")&&document.querySelector("#confirm-letter").addEventListener("click",(function(){}))}(),document.querySelector("#send-audio")&&document.querySelectorAll(".msg__content-send").forEach((e=>{let t=e.querySelector("#send-audio"),s=e.querySelector(".spollers__title-full"),i=e.querySelector(".date-content__all"),n=e.querySelector(".datepicker");function a(){e.querySelector(".msg__date-content").classList.remove("active"),s.innerHTML="Время доставки",e.querySelector(".msg__list").style.display="none",e.classList.add("active"),e.querySelector("#confirm-date").addEventListener("click",(function(){e.querySelector(".msg__date-content").classList.add("active");let t=e.querySelector(".datepicker").value.split(".");e.querySelector("#day").value=t[0],e.querySelector("#month").value=t[1],e.querySelector("#year").value=t[2],e.querySelector(".spollers__title-full").classList.contains("_spoller-active")&&e.querySelector(".spollers__title-full").click(),e.classList.remove("active"),s.innerHTML="Редактировать <img src='img/icons/icons.svg#edit'>",e.parentElement.parentElement.querySelector(".pay")&&e.parentElement.parentElement.querySelector(".pay").classList.add("active")}))}new p(n,{inline:!0}),t.addEventListener("click",(function(){s.click()})),s.addEventListener("click",(function(){a()})),i.addEventListener("click",(function(){s.click()})),e.querySelector("#spoller-date")&&e.querySelector("#save-btn").addEventListener("click",(function(){let t=e.querySelector(".datepicker").value;e.querySelector("#spoller-date").click(),e.querySelector("#spoller-date").innerHTML=`Время доставки: <span>${t}</span>`}))})),document.querySelector("#add-btn")){document.querySelector("#add-btn").addEventListener("click",(function(){document.querySelector(".add__head").classList.add("hidden"),document.querySelector(".add__sections").classList.add("active")}))}if(document.querySelector("#pay-convert")){document.querySelector("#pay-convert").addEventListener("click",(function(){const e=document.createElement("div");e.classList.add("section-account__letter","letter"),e.innerHTML=' <div class="letter__head">\n        <div class="section-account__title">Дата создания 21.02.2023</div>\n        <a href="#!" data-popup="#popup-return" class="letter__return">Запросить возврат</a>\n    </div>\n    <div class="letter__content">\n        <div class="letter__head">\n        </div>\n        <div class="letter__decor">\n            <div class="letter__round">\n                <div class="letter__date">\n                    Дата отправки\n                </div>\n                <div class="letter__date">\n                    23.02.2023\n                </div>\n            </div>\n        </div>\n        <div class="letter__data data-letter">\n            <div class="data-letter__content">\n                <div class="data-letter__title">\n                    Дата Отправки 23.02.2023\n                </div>\n                <div class="data-letter__files">\n                    <div class="file">\n                        <div data-popup="#text-full" class="data-letter__msg">\n                            В рамках спецификации современных стандартов, активно\n                            развивающиеся\n                            страны\n                            третьего мира обнародованы. Банальные, но неопровержимые выводы,\n                            а также\n                            элементы политического процесса освещают чрезвычайно интересные\n                            особенности\n                            картины в целом, однако конкретные выводы, разумеется,\n                            объединены\n                            в целые\n                            кластеры себе подобных. Разнообразный и богатый опыт говорит\n                            нам,\n                            что синтетическое тестирование способствует повышению качества\n                            существующих\n                            финансовых и административных условий. Как уже неоднократно\n                            упомянуто,\n                            предприниматели в сети интернет, которые представляют собой\n                            яркий\n                            пример\n                            континентально-европейского типа политической культуры, будут\n                            преданы\n                            социально-демократической анафеме. Не следует, однако, забывать,\n                            что дальнейшее развитие различных форм деятельности позволяет\n                            выполнить\n                            важные задания по разработке новых предложений. В своём\n                            стремлении\n                            улучшить\n                            пользовательский опыт м\n                            В рамках спецификации современных стандартов, активно\n                            развивающиеся\n                            страны\n                            третьего мира обнародованы. Банальные, но неопровержимые выводы,\n                            а также\n                            элементы политического процесса освещают чрезвычайно интересные\n                            особенности\n                            картины в целом, однако конкретные выводы, разумеется,\n                            объединены\n                            в целые\n                            кластеры себе подобных. Разнообразный и богатый опыт говорит\n                            нам,\n                            что синтетическое тестирование способствует повышению качества\n                            существующих\n                            финансовых и административных условий. Как уже неоднократно\n                            упомянуто,\n                            предприниматели в сети интернет, которые представляют собой\n                            яркий\n                            пример\n                            континентально-европейского типа политической культуры, будут\n                            преданы\n                            социально-демократической анафеме. Не следует, однако, забывать,\n                            что дальнейшее развитие различных форм деятельности позволяет\n                            выполнить\n                            важные задания по разработке новых предложений. В своём\n                            стремлении\n                            улучшить\n                            пользовательский опыт м\n                            В рамках спецификации современных стандартов, активно\n                            развивающиеся\n                            страны\n                            третьего мира обнародованы. Банальные, но неопровержимые выводы,\n                            а также\n                            элементы политического процесса освещают чрезвычайно интересные\n                            особенности\n                            картины в целом, однако конкретные выводы, разумеется,\n                            объединены\n                            в целые\n                            кластеры себе подобных. Разнообразный и богатый опыт говорит\n                            нам,\n                            что синтетическое тестирование способствует повышению качества\n                            существующих\n                            финансовых и административных условий. Как уже неоднократно\n                            упомянуто,\n                            предприниматели в сети интернет, которые представляют собой\n                            яркий\n                            пример\n                            континентально-европейского типа политической культуры, будут\n                            преданы\n                            социально-демократической анафеме. Не следует, однако, забывать,\n                            что дальнейшее развитие различных форм деятельности позволяет\n                            выполнить\n                            важные задания по разработке новых предложений. В своём\n                            стремлении\n                            улучшить\n                            пользовательский опыт м\n                        </div>\n                        <a href="#" class="file__all">Читать всё</a>\n                    </div>\n                    <div class="file">\n\n                        <div data-popup="#audio-full" class="data-letter__audio">\n                            <div data-popup="#audio-full"\n                                class="msg__audio letter__audio my-audio">\n                                <button class="my-audio__button">\n                                    <svg width="10" height="11" viewBox="0 0 10 11"\n                                        fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <path\n                                            d="M9 3.75752C10.3333 4.53196 10.3333 6.46804 9 7.24248L3 10.7274C1.66666 11.5019 -6.72981e-08 10.5338 0 8.98496L3.02841e-07 2.01504C3.70139e-07 0.466171 1.66667 -0.501871 3 0.272564L9 3.75752Z"\n                                            fill="#9B9BCF" />\n                                    </svg>\n                                </button>\n                                <audio\n                                    src="https://www.zapsplat.com/wp-content/uploads/2015/sound-effects-61905/zapsplat_multimedia_alert_chime_short_musical_notification_cute_child_like_001_64918.mp3?_=1"></audio>\n                                <input type="range" class="timeline" max="100" value="0">\n                                <div class="my-audio__time">\n                                    00:10\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n        <div class="letter__body">\n        </div>\n\n    </div>\n    <div class="letter__buts send-buts">\n        <button id="confirm-letter" data-popup="#edit-file"\n            class="send__but send-but send-but-purple">\n            Редактировать\n        </button>\n        <button id="open-letter" class="send__but send-but send-but-white">\n            Открыть\n        </button>\n    </div>',document.querySelector(".letters").appendChild(e),document.querySelector(".add__sections").classList.remove("active"),document.querySelector(".add__head").classList.remove("hidden")}))}const C=document.querySelectorAll("#clock-hour"),E=document.querySelectorAll("#clock-minutes"),L=document.querySelectorAll("#clock-seconds");setInterval((()=>{let e=new Date,t=30*e.getHours(),s=6*e.getMinutes(),i=6*e.getSeconds();C.forEach((e=>{e.style.transform=`rotateZ(${t+s/12}deg)`})),E.forEach((e=>{e.style.transform=`rotateZ(${s}deg)`})),L.forEach((e=>{e.style.transform=`rotateZ(${i}deg)`})),document.getElementsByTagName("body")[0].style.opacity="1"}),1e3);if(e.popup=new class{constructor(e){let t={logging:!0,init:!0,attributeOpenButton:"data-popup",attributeCloseButton:"data-close",fixElementSelector:"[data-lp]",youtubeAttribute:"data-popup-youtube",youtubePlaceAttribute:"data-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"popup__content",popupActive:"popup_show",bodyActive:"popup-show"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...t,...e,classes:{...t.classes,...e?.classes},hashSettings:{...t.hashSettings,...e?.hashSettings},on:{...t.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.popupLogging("Проснулся"),this.eventsPopup()}eventsPopup(){document.addEventListener("click",function(e){const t=e.target.closest(`[${this.options.attributeOpenButton}]`);if(t)return e.preventDefault(),this._dataValue=t.getAttribute(this.options.attributeOpenButton)?t.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,"error"!==this._dataValue?(this.isOpen||(this.lastFocusEl=t),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,void this.open()):void this.popupLogging(`Ой ой, не заполнен атрибут у ${t.classList}`);return e.target.closest(`[${this.options.attributeCloseButton}]`)||!e.target.closest(`.${this.options.classes.popupContent}`)&&this.isOpen?(e.preventDefault(),void this.close()):void 0}.bind(this)),document.addEventListener("keydown",function(e){if(this.options.closeEsc&&27==e.which&&"Escape"===e.code&&this.isOpen)return e.preventDefault(),void this.close();this.options.focusCatch&&9==e.which&&this.isOpen&&this._focusCatch(e)}.bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}.bind(this)),window.addEventListener("load",function(){window.location.hash&&this._openToHash()}.bind(this)))}open(e){if(a)if(this.bodyLock=!(!document.documentElement.classList.contains("lock")||this.isOpen),e&&"string"==typeof e&&""!==e.trim()&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(this.targetOpen.selector),this.targetOpen.element){if(this.youTubeCode){const e=`https://www.youtube.com/embed/${this.youTubeCode}?rel=0&showinfo=0&autoplay=1`,t=document.createElement("iframe");t.setAttribute("allowfullscreen","");const s=this.options.setAutoplayYoutube?"autoplay;":"";if(t.setAttribute("allow",`${s}; encrypted-media`),t.setAttribute("src",e),!this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)){this.targetOpen.element.querySelector(".popup__text").setAttribute(`${this.options.youtubePlaceAttribute}`,"")}this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(t)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.classList.add(this.options.classes.popupActive),document.documentElement.classList.add(this.options.classes.bodyActive),this._reopen?this._reopen=!1:!this.bodyLock&&o(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout((()=>{this._focusTrap()}),50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}})),this.popupLogging("Открыл попап")}else this.popupLogging("Ой ой, такого попапа нет.Проверьте корректность ввода. ")}close(e){e&&"string"==typeof e&&""!==e.trim()&&(this.previousOpen.selector=e),this.isOpen&&a&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.youTubeCode&&this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&(this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""),this.previousOpen.element.classList.remove(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.classList.remove(this.options.classes.bodyActive),!this.bodyLock&&l(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout((()=>{this._focusTrap()}),50),this.popupLogging("Закрыл попап"))}_getHash(){this.options.hashSettings.location&&(this.hash=this.targetOpen.selector.includes("#")?this.targetOpen.selector:this.targetOpen.selector.replace(".","#"))}_openToHash(){let e=document.querySelector(`.${window.location.hash.replace("#","")}`)?`.${window.location.hash.replace("#","")}`:document.querySelector(`${window.location.hash}`)?`${window.location.hash}`:null;(document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`)?document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`):document.querySelector(`[${this.options.attributeOpenButton} = "${e.replace(".","#")}"]`))&&e&&this.open(e)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const t=this.targetOpen.element.querySelectorAll(this._focusEl),s=Array.prototype.slice.call(t),i=s.indexOf(document.activeElement);e.shiftKey&&0===i&&(s[s.length-1].focus(),e.preventDefault()),e.shiftKey||i!==s.length-1||(s[0].focus(),e.preventDefault())}_focusTrap(){const e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}popupLogging(e){this.options.logging&&r(`[Попапос]: ${e}`)}}({}),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),document.querySelector(".icon-menu")&&document.addEventListener("click",(function(e){a&&e.target.closest(".icon-menu")&&(((e=500)=>{document.documentElement.classList.contains("lock")?l(e):o(e)})(),document.documentElement.classList.toggle("menu-open"))})),function(){const e=document.querySelectorAll("[data-spollers]");if(e.length>0){const s=Array.from(e).filter((function(e,t,s){return!e.dataset.spollers.split(",")[0]}));s.length&&a(s);let i=c(e,"spollers");function a(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_spoller-init"),l(e),e.addEventListener("click",o)):(e.classList.remove("_spoller-init"),l(e,!1),e.removeEventListener("click",o))}))}function l(e,t=!0){let s=e.querySelectorAll("[data-spoller]");s.length&&(s=Array.from(s).filter((t=>t.closest("[data-spollers]")===e)),s.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_spoller-active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)})))}function o(e){const t=e.target;if(t.closest("[data-spoller]")){const s=t.closest("[data-spoller]"),i=s.closest("[data-spollers]"),a=i.hasAttribute("data-one-spoller"),l=i.dataset.spollersSpeed?parseInt(i.dataset.spollersSpeed):500;i.querySelectorAll("._slide").length||(a&&!s.classList.contains("_spoller-active")&&r(i),s.classList.toggle("_spoller-active"),n(s.nextElementSibling,l)),e.preventDefault()}}function r(e){const s=e.querySelector("[data-spoller]._spoller-active"),i=e.dataset.spollersSpeed?parseInt(e.dataset.spollersSpeed):500;s&&!e.querySelectorAll("._slide").length&&(s.classList.remove("_spoller-active"),t(s.nextElementSibling,i))}i&&i.length&&i.forEach((e=>{e.matchMedia.addEventListener("change",(function(){a(e.itemsArray,e.matchMedia)})),a(e.itemsArray,e.matchMedia)}));const d=document.querySelectorAll("[data-spoller-close]");d.length&&document.addEventListener("click",(function(e){e.target.closest("[data-spollers]")||d.forEach((e=>{const s=e.closest("[data-spollers]"),i=s.dataset.spollersSpeed?parseInt(s.dataset.spollersSpeed):500;e.classList.remove("_spoller-active"),t(e.nextElementSibling,i)}))}))}}(),window.addEventListener("load",(function(e){const s=document.querySelectorAll("[data-showmore]");let n,a;function l(e){e.forEach((e=>{o(e.itemsArray,e.matchMedia)}))}function o(e,s){e.forEach((e=>{!function(e,s=!1){let n=(e=s?e.item:e).querySelectorAll("[data-showmore-content]"),a=e.querySelectorAll("[data-showmore-button]");n=Array.from(n).filter((t=>t.closest("[data-showmore]")===e))[0],a=Array.from(a).filter((t=>t.closest("[data-showmore]")===e))[0];const l=r(e,n);(s.matches||!s)&&l<function(e){let t,s=e.offsetHeight;e.style.removeProperty("height"),e.closest("[hidden]")&&(t=e.closest("[hidden]"),t.hidden=!1);let i=e.offsetHeight;return t&&(t.hidden=!0),e.style.height=`${s}px`,i}(n)?(t(n,0,l),a.hidden=!1):(i(n,0,l),a.hidden=!0)}(e,s)}))}function r(e,t){let s=0;if("items"===(e.dataset.showmore?e.dataset.showmore:"size")){const e=t.dataset.showmoreContent?t.dataset.showmoreContent:3,i=t.children;for(let t=1;t<i.length&&(s+=i[t-1].offsetHeight,t!=e);t++);}else s=t.dataset.showmoreContent?t.dataset.showmoreContent:150;return s}function d(e){const s=e.target,c=e.type;if("click"===c){if(s.closest("[data-showmore-button]")){const e=s.closest("[data-showmore-button]").closest("[data-showmore]"),n=e.querySelector("[data-showmore-content]"),a=e.dataset.showmoreButton?e.dataset.showmoreButton:"500",l=r(e,n);n.classList.contains("_slide")||(e.classList.contains("_showmore-active")?t(n,a,l):i(n,a,l),e.classList.toggle("_showmore-active"))}}else"resize"===c&&(n&&n.length&&o(n),a&&a.length&&l(a))}s.length&&(n=Array.from(s).filter((function(e,t,s){return!e.dataset.showmoreMedia})),n.length&&o(n),document.addEventListener("click",d),window.addEventListener("resize",d),a=c(s,"showmoreMedia"),a&&a.length&&(a.forEach((e=>{e.matchMedia.addEventListener("change",(function(){o(e.itemsArray,e.matchMedia)}))})),l(a)))})),function(e={viewPass:!1}){const t=document.querySelectorAll("input[placeholder],textarea[placeholder]");t.length&&t.forEach((e=>{e.hasAttribute("data-placeholder-nohide")||(e.dataset.placeholder=e.placeholder)})),document.body.addEventListener("focusin",(function(e){const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||(t.dataset.placeholder&&(t.placeholder=""),t.hasAttribute("data-no-focus-classes")||(t.classList.add("_form-focus"),t.parentElement.classList.add("_form-focus")),h.removeError(t))})),document.body.addEventListener("focusout",(function(e){const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||(t.dataset.placeholder&&(t.placeholder=t.dataset.placeholder),t.hasAttribute("data-no-focus-classes")||(t.classList.remove("_form-focus"),t.parentElement.classList.remove("_form-focus")))})),e.viewPass&&document.addEventListener("click",(function(e){let t=e.target;if(t.closest('[class*="__viewpass"]')){let e=t.classList.contains("_viewpass-active")?"password":"text";t.parentElement.querySelector("input").setAttribute("type",e),t.classList.toggle("_viewpass-active")}t.closest('[class*="__resetinput"]')&&(t.parentElement.querySelector("input").value="")}))}({viewPass:!0}),function(t={validate:!0}){const s=document.forms;if(s.length)for(const e of s)e.addEventListener("submit",(function(e){i(e.target,e)})),e.addEventListener("reset",(function(e){const t=e.target;h.formClean(t)}));async function i(e,t){if(0===(e.hasAttribute("data-no-validate")?0:h.getErrors(e))){if(e.hasAttribute("data-ajax")){t.preventDefault();const s=e.getAttribute("action")?e.getAttribute("action").trim():"#",i=e.getAttribute("method")?e.getAttribute("method").trim():"GET",a=new FormData(e);e.classList.add("_sending");const l=await fetch(s,{method:i,body:a});if(l.ok){let t=await l.json();e.classList.remove("_sending"),n(e,t)}else alert("Ошибка"),e.classList.remove("_sending")}else e.hasAttribute("data-dev")&&(t.preventDefault(),n(e))}else{t.preventDefault();const s=e.querySelector("._form-error");s&&e.hasAttribute("data-goto-error")&&d(s,!0,1e3)}}function n(t,s=""){document.dispatchEvent(new CustomEvent("formSent",{detail:{form:t}})),setTimeout((()=>{if(e.popup){const s=t.dataset.popupMessage;s&&e.popup.open(s)}}),0),h.formClean(t),r(`[Формы]: ${"Форма отправлена!"}`)}}(),document.querySelector("#main-cropper")){if(window.matchMedia("(max-width: 500px)").matches)k=$("#main-cropper").croppie({viewport:{width:200,height:200,type:"circle"},boundary:{width:288,height:288},showZoomer:!0});else var k=$("#main-cropper").croppie({viewport:{width:200,height:200,type:"circle"},boundary:{width:455,height:300},showZoomer:!0});function q(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$("#main-cropper").croppie("bind",{url:e.target.result})},t.readAsDataURL(e.files[0])}}k.croppie("bind",{url:"img/ava.jpg"}),$(".actionSelect input").on("change",(function(){q(this)})),$(".actionUpload").on("click",(function(){k.croppie("result","blob").then((function(e){var t=new FormData;t.append("filename","testFileName.png"),t.append("blob",e);var s=new XMLHttpRequest;s.open("POST",'@Url.Action("GetImage","Create")'),s.send(t)}))}))}})()})();